zenchain: 1.0
start: W3C-DID-oracle-did-list-1-retrieve-did-documents-from-redis.zen
blocks:
  W3C-DID-oracle-did-list-1-retrieve-did-documents-from-redis.zen:
    zenContent: >
      Rule caller restroom-mw



      Given I have a valid redis connection on 'redis://localhost:6379'

      Given I read from redis the data under the keys containing 'did:dyne:id:'
      and save the output into 'W3C-DIDs'


      Given I have a 'string array' named 'W3C-DIDs'


      then print 'W3C-DIDs'
    next: W3C-DID-oracle-did-list-2-for-each-did-doc-extract-id.zen
  W3C-DID-oracle-did-list-2-for-each-did-doc-extract-id.zen:
    forEach: W3C-DIDs
    index: temp
    zenContent: |-
      Given I have a 'string dictionary' named 'temp'

      Then print the 'id' from 'temp'
    next: W3C-DID-oracle-did-list-3-flat-did-list.zen
  W3C-DID-oracle-did-list-3-flat-did-list.zen:
    zenContent: |
      Given I have a 'string array' named 'W3C-DIDs' 
       
      When I create the flat array of contents in 'W3C-DIDs' 
      When I rename the 'flat array' to 'W3C-DIDs list' 
       
      Then print the 'W3C-DIDs list'
